{"version":3,"sources":["components/Modal/Modal.module.css","context/AuthContext.js","hooks/useAuth.js","helpers/showNotification.js","components/Header/Header.js","axios-firebase.js","context/ReducerContext.js","helpers/Input.js","helpers/validation.js","components/Modal/Modal.js","components/Notes/EditNote/EditNote.js","reducer.js","components/Footer/Footer.js","axios-auth.js","UI/LoadingButton/LoadingButton.js","pages/Login/Login.js","components/Notes/NewNote/NewNote.js","components/Notes/Note/Note.js","components/Notes/Notes.js","UI/Spinner/Spinner.js","helpers/objectWithKey.js","pages/NotesHome/NotesHome.js","Layout/Layout.js","pages/Registration/Registration.js","components/Auth/RouteAuth.js","components/Auth/RouteAuthTrue.js","pages/ProfileDetails/ProfileDetails.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","AuthContext","createContext","auth","login","logout","displayName","useAuth","context","useContext","user","window","localStorage","setItem","JSON","stringify","setTimeout","removeItem","showNotification","title","message","type","store","addNotification","insert","container","animationIn","animationOut","dismiss","duration","onScreen","showIcon","Header","setAuth","className","to","xmlns","width","height","fill","viewBox","d","onClick","instance","axios","create","baseURL","process","ReducerContext","state","dispatch","Input","props","InputText","htmlFor","label","ref","autoComplete","placeholder","validation","id","aria-describedby","value","onChange","e","target","InputEmail","InputPassword","aria-label","InputCheckbox","checked","InputTextarea","cols","rows","InputColor","style","availibleRules","required","length","rule","email","test","String","toLowerCase","validateEmail","password","changePassword","checkbox","rules","i","Object","errorMessage","Modal","Style","modal","backdropFilter","children","NewNote","useState","currentNote","description","body","bgColor","textColor","form","setForm","buttonHandler","values","filter","val","saveNote","a","preventDefault","newNote","_id","allNote","notes","noteIndex","findIndex","note","showEditModal","axiosFirebase","patch","localId","idToken","changeHandler","onSubmit","disabled","initialState","copyNotesSearch","showAddNote","getItem","parse","reducer","action","Footer","href","params","key","LoadingButton","loading","color","role","aria-hidden","Login","history","useHistory","setLoading","loginInfo","loginHandler","post","returnSecureToken","loginUser","data","push","console","log","response","error","includes","addNote","axNote","name","Note","backgroundColor","cursor","onEdit","fillRule","onRemove","Notes","map","Spinner","objectWithKey","obj","newArray","NotesHome","loadingNotes","setLoadingNotes","search","setSeatch","removeHandler","delete","newNotes","editHandler","editNote","fetchNotes","get","newNotesArray","searchHandler","searchNotes","err","useEffect","Layout","header","content","footer","flexGrow","validationMessage","axiosAuth","RouteAuth","RouteAuthTrue","ProfileDetails","confirmDelete","setConfirmDelete","updateUser","deleteUser","App","useReducer","EditNote","path","component","Registration","exact","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.08eab138.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__FAbuc\"};","import { createContext } from \"react\";\r\n\r\nconst AuthContext = createContext({\r\n  auth: null,\r\n  login: () => { },\r\n  logout: () => { }\r\n})\r\n\r\nAuthContext.displayName = \"AuthContext\"\r\n\r\nexport default AuthContext;","import { useContext } from 'react';\r\nimport AuthContext from '../context/AuthContext';\r\n\r\n\r\nexport default function useAuth() {\r\n  const context = useContext(AuthContext);\r\n\r\n  let auth = context.auth;\r\n\r\n  const setAuth = user => {\r\n    if (user) {\r\n      context.login(user);\r\n      window.localStorage.setItem('user-auth', JSON.stringify(user));\r\n      setTimeout(() => {\r\n        context.logout()\r\n      }, (1000 * 60 * 60))\r\n    } else {\r\n      context.logout();\r\n      window.localStorage.removeItem('user-auth');\r\n    }\r\n  }\r\n\r\n  return [auth, setAuth];\r\n}","import { store } from 'react-notifications-component';\r\n\r\nexport default function showNotification({ title, message, type }) {\r\n\r\n  return (\r\n    store.addNotification({\r\n      title,\r\n      message,\r\n      type,\r\n      insert: \"top\",\r\n      container: \"bottom-right\",\r\n      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n      dismiss: {\r\n        duration: 3500,\r\n        onScreen: true,\r\n        showIcon: true,\r\n      }\r\n    })\r\n  )\r\n}","import { Link } from 'react-router-dom';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport showNotification from '../../helpers/showNotification';\r\n\r\nfunction Header() {\r\n\r\n  const [auth, setAuth] = useAuth();\r\n\r\n  const logoutHandler = () => {\r\n\r\n    const not = {\r\n      title: \"Użytkownik został wylogowany\",\r\n      message: \"zapraszamy ponownie\",\r\n      type: \"warning\"\r\n    }\r\n    showNotification(not);\r\n\r\n    setAuth(null)\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-3 shadow-sm text-light bg-dark\">\r\n      <div className=\"container\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-4 col-md-6 p-0\" >\r\n            <Link to=\"/\" className=\"text-light text-decoration-none\">\r\n\r\n              <span>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-stickies\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M1.5 0A1.5 1.5 0 0 0 0 1.5V13a1 1 0 0 0 1 1V1.5a.5.5 0 0 1 .5-.5H14a1 1 0 0 0-1-1H1.5z\" />\r\n                  <path d=\"M3.5 2A1.5 1.5 0 0 0 2 3.5v11A1.5 1.5 0 0 0 3.5 16h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 16 9.586V3.5A1.5 1.5 0 0 0 14.5 2h-11zM3 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 .5.5V9h-4.5A1.5 1.5 0 0 0 9 10.5V15H3.5a.5.5 0 0 1-.5-.5v-11zm7 11.293V10.5a.5.5 0 0 1 .5-.5h4.293L10 14.793z\" />\r\n                </svg>\r\n              </span>\r\n              <span className=\"ms-2\">Notatnik</span>\r\n            </Link>\r\n\r\n          </div>\r\n          <div className=\"text-end col-8 col-md-6 p-0\">\r\n            {auth\r\n              ? (<>\r\n                <Link to='/profile' className=\"me-3 text-light\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"26\" height=\"26\" fill=\"currentColor\" className=\"bi bi-person-fill\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z\" />\r\n                  </svg>\r\n                </Link>\r\n                <button onClick={logoutHandler} className=\"btn btn-warning\">Wyloguj</button>\r\n              </>\r\n              )\r\n              : (<>\r\n                <Link to=\"/login\" className=\"btn btn-warning\">Zaloguj</Link>\r\n                <Link to=\"/register\" className=\"btn ms-2 btn-primary\">Zarejestruj</Link>\r\n              </>)}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_DATABASE_NOTES,\r\n})\r\n\r\nexport default instance;","import {\r\n  createContext\r\n} from 'react';\r\n\r\nconst ReducerContext = createContext({\r\n  state: {},\r\n  dispatch: () => {},\r\n})\r\n\r\nexport default ReducerContext;","export default function Input(props) {\r\n\r\n  switch (props.type) {\r\n    case 'text':\r\n      return <InputText {...props} />\r\n    case 'textarea':\r\n      return <InputTextarea {...props} />\r\n    case 'password':\r\n      return <InputPassword {...props} />\r\n    case 'email':\r\n      return <InputEmail {...props} />\r\n    case 'color':\r\n      return <InputColor {...props} />\r\n    case 'checkbox':\r\n      return <InputCheckbox {...props} />\r\n    default:\r\n      break\r\n\r\n  }\r\n}\r\n\r\n\r\nconst InputText = props => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"noteTitle\" className=\"form-label\">{props.label}</label>\r\n      <input\r\n        ref={props.ref}\r\n        autoComplete=\"off\"\r\n        placeholder={props.placeholder}\r\n        type={props.type}\r\n        className={`form-control ${props.validation ? 'is-invalid' : null} `}\r\n        id={props.id}\r\n        aria-describedby={props.id}\r\n        value={props.value}\r\n        onChange={e => props.onChange(e.target.value)}\r\n      />\r\n      <div className=\"invalid-feedback\">{props.validation}</div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst InputEmail = props => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"noteTitle\" className=\"form-label\">{props.label}</label>\r\n      <div className=\"input-group\">\r\n        <span className=\"input-group-text\" id={props.id}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-envelope-fill\" viewBox=\"0 0 18 18\">\r\n            <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\" />\r\n          </svg>\r\n        </span>\r\n        <input\r\n          autoComplete=\"off\"\r\n          placeholder={props.placeholder ?? \"name@example.pl\"}\r\n          type={props.type}\r\n          className={`form-control ${props.validation ? 'is-invalid' : null} `}\r\n          id={props.id}\r\n          aria-describedby={props.id}\r\n          value={props.value}\r\n          onChange={e => props.onChange(e.target.value)}\r\n        />\r\n        <div className=\"invalid-feedback\">{props.validation}</div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst InputPassword = props => {\r\n  return (\r\n    <>\r\n      <label htmlFor=\"noteTitle\" className=\"form-label\">{props.label}</label>\r\n      <div className=\"input-group mb-3\">\r\n        <span className=\"input-group-text\" id=\"ico-form-password\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" fill=\"currentColor\" className=\"bi bi-lock-fill\" viewBox=\"0 0 18 18\">\r\n            <path d=\"M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z\" />\r\n          </svg>\r\n        </span>\r\n        <input\r\n          ref={props.ref}\r\n          autoComplete=\"off\"\r\n          placeholder=\"hasło\"\r\n          type={props.type}\r\n          className={`form-control ${props.validation ? 'is-invalid' : null} `}\r\n          id={props.id}\r\n          aria-describedby={props.id}\r\n          aria-label=\"password\"\r\n          value={props.value}\r\n          onChange={e => props.onChange(e.target.value)}\r\n        />\r\n        <div className=\"invalid-feedback\">{props.validation}</div>\r\n      </div>\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst InputCheckbox = props => {\r\n  return (\r\n    <>\r\n      <div className=\"form-check\">\r\n\r\n        <input\r\n          type={props.type}\r\n          className={`form-check-input ${props.validation ? 'is-invalid' : null} `}\r\n          id={props.id}\r\n          aria-describedby={props.id}\r\n          checked={props.value}\r\n          onChange={e => props.onChange(e.target.checked)}\r\n        />\r\n        <label htmlFor={props.id} className=\"form-check-label\">{props.label}\r\n        </label>\r\n        <div className=\"invalid-feedback\">{props.validation}</div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst InputTextarea = props => {\r\n  return (\r\n    <>\r\n      <label className=\"form-label\">{props.label}</label>\r\n      <textarea\r\n        className={`form-control ${props.validation ? 'is-invalid' : null} `}\r\n        cols=\"30\"\r\n        rows=\"5\"\r\n        value={props.value}\r\n        onChange={e => props.onChange(e.target.value)}\r\n      ></textarea>\r\n      <div className=\"invalid-feedback\">{props.validation}</div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nconst InputColor = props => {\r\n  return (\r\n    <>\r\n      <label className=\"form-label\">{props.label}</label>\r\n      <input\r\n        type={props.type}\r\n        label={props.label}\r\n        title={props.title}\r\n        value={props.value}\r\n        className=\"form-control p-1\"\r\n        style={{ \"width\": \"40px\", \"height\": \"30px\" }}\r\n        onChange={e => props.onChange(e.target.value)}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\n\r\n","export function validateEmail(email) {\r\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\n\r\nconst availibleRules = {\r\n  required(value) {\r\n    return value ? '' : 'Pole wymagane!';\r\n  },\r\n  length(value, rule) {\r\n    if (value.length < rule.length) {\r\n      return `minimalna ilość znaków to: ${rule.length}`\r\n    } else {\r\n      return ''\r\n    }\r\n  },\r\n  email(value) {\r\n    if (validateEmail(value)) {\r\n      return '';\r\n    } else {\r\n      return 'Niepoprawny mail'\r\n    }\r\n  },\r\n  password(value) {\r\n    if (value.length <= 5) {\r\n      return 'Minimalna ilość znaków to 6'\r\n    } else {\r\n      return ''\r\n    }\r\n  },\r\n  changePassword(value) {\r\n    if (value.length === 0 || value.length > 5) {\r\n      return ''\r\n    } else {\r\n      return 'Minimalna ilość znaków to 6'\r\n    }\r\n  },\r\n  checkbox(value) {\r\n    if (value) {\r\n      return ''\r\n    } else {\r\n      return 'Akceptacja regulaminu jest wymagana'\r\n    }\r\n  }\r\n}\r\n\r\nexport function validation(rules = [], value) {\r\n\r\n  for (let i = 0; i < rules.length; i++) {\r\n    let rule = rules[i];\r\n    if (rule instanceof Object) {\r\n      const errorMessage = availibleRules[rule.rule](value, rule);\r\n      if (errorMessage) {\r\n        return errorMessage;\r\n      }\r\n\r\n    } else {\r\n      const errorMessage = availibleRules[rule](value);\r\n      if (errorMessage) {\r\n        return errorMessage;\r\n      }\r\n    }\r\n  }\r\n  return '';\r\n\r\n}","import Style from './Modal.module.css';\r\n\r\nfunction Modal(props) {\r\n  return (\r\n    <div className={`${Style.modal}`} style={{ backdropFilter: 'blur(4px)' }}>\r\n      <div className=\"container\">\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Modal;","import axiosFirebase from '../../../axios-firebase';\r\nimport React, { useContext, useState } from 'react';\r\nimport ReducerContext from '../../../context/ReducerContext';\r\nimport Input from '../../../helpers/Input';\r\nimport { validation } from '../../../helpers/validation';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport Modal from '../../Modal/Modal';\r\nimport showNotification from '../../../helpers/showNotification';\r\n\r\n\r\n\r\nfunction NewNote(props) {\r\n  const context = useContext(ReducerContext);\r\n  const [auth, setAuth] = useAuth();\r\n  const [form, setForm] = useState({\r\n    title: {\r\n      value: context.state.currentNote[0].title,\r\n      errorMessage: '',\r\n      rules: ['required', { rule: 'length', length: 6 }],\r\n      validation: true\r\n    },\r\n    description: {\r\n      value: context.state.currentNote[0].body,\r\n      rules: ['required'],\r\n      errorMessage: '',\r\n      validation: true\r\n    },\r\n    bgColor: {\r\n      value: context.state.currentNote[0].bgColor,\r\n      errorMessage: '',\r\n      validation: true\r\n    },\r\n    textColor: {\r\n      value: context.state.currentNote[0].textColor,\r\n      errorMessage: '',\r\n      validation: true\r\n    }\r\n  })\r\n\r\n  const buttonHandler = Object.values(form).filter(val => !val.validation).length === 0 ? false : true;\r\n\r\n  const saveNote = async (e) => {\r\n\r\n    e.preventDefault();\r\n    const newNote = {\r\n      title: form.title.value,\r\n      body: form.description.value,\r\n      textColor: form.textColor.value,\r\n      bgColor: form.bgColor.value\r\n    }\r\n\r\n    const id = context.state.currentNote[0]._id;\r\n\r\n    const allNote = [...context.state.notes];\r\n    const noteIndex = allNote.findIndex(note => note._id === id);\r\n    allNote[noteIndex] = { ...newNote, _id: id };\r\n    context.dispatch({ type: 'showEditModal', showEditModal: false });\r\n    context.dispatch({ type: 'updateNote', notes: allNote });\r\n    context.dispatch({ type: 'searchHandler' });\r\n\r\n    try {\r\n      await axiosFirebase.patch(`/${auth.localId}/${id}.json?auth=${auth.idToken}`, newNote);\r\n      const not = {\r\n        title: \"Notatka została zaktualizowana\",\r\n        message: \" \",\r\n        type: \"info\"\r\n      }\r\n      showNotification(not);\r\n    } catch (err) {\r\n      const not = {\r\n        title: \"Sesja wygasła!\",\r\n        message: \"Aby edytować notatkę proszę się zalogować\",\r\n        type: \"danger\"\r\n      }\r\n      showNotification(not);\r\n      return setAuth(null);\r\n    }\r\n\r\n\r\n    //express + mongoDB\r\n    // await axios.patch(`/note/${id}`, newNote, (err) => {\r\n    //   if (err) return console.log('coś poszło nie tak')\r\n    //   console.log('Notatka zaktualizowana zapytanie-frontend');\r\n    // });\r\n  }\r\n\r\n  const changeHandler = (val, type) => {\r\n    const errorMessage = validation(form[type].rules, val);\r\n    setForm({\r\n      ...form,\r\n      [type]: { ...form[type], value: val, errorMessage, validation: !errorMessage }\r\n    })\r\n  }\r\n\r\n  const closeHandler = () => {\r\n    context.dispatch({ type: 'showEditModal', showEditModal: false });\r\n    context.dispatch({ type: 'editNote', currentNote: {} })\r\n  }\r\n\r\n  return (\r\n    <Modal>\r\n      <div className=\"my-4\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"card bg-light text-dark col-sm-8 p-0\">\r\n            <div className=\"card-header\">Edytuj notatkę</div>\r\n            <div className=\"card-body\">\r\n              <form onSubmit={saveNote}>\r\n\r\n                <div className=\"mb-3 \">\r\n                  <Input\r\n                    label=\"Tytuł\"\r\n                    type=\"text\"\r\n                    id=\"noteTitle\"\r\n                    validation={form.title.errorMessage}\r\n                    value={form.title.value}\r\n                    onChange={val => changeHandler(val, 'title')}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <Input\r\n                    label=\"Notatka\"\r\n                    type=\"textarea\"\r\n                    validation={form.description.errorMessage}\r\n                    value={form.description.value}\r\n                    onChange={val => changeHandler(val, 'description')}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"row align-items-center\">\r\n\r\n                  <div className=\"col-6 col-lg-4\">\r\n                    <Input\r\n                      type=\"color\"\r\n                      label=\"Kolor notatki\"\r\n                      title=\"Wybierz kolor\"\r\n                      value={form.bgColor.value}\r\n                      onChange={val => changeHandler(val, 'bgColor')}\r\n                      className=\"form-control p-1\"\r\n                      style={{ \"width\": \"50px\" }}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-6 col-lg-4\">\r\n                    <Input\r\n                      type=\"color\"\r\n                      label=\"Kolor tekstu\"\r\n                      title=\"Wybierz kolor\"\r\n                      value={form.textColor.value}\r\n                      onChange={val => changeHandler(val, 'textColor')}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\" text-end col-12 col-lg-4 mt-2 mt-lg-0\">\r\n                    <button type=\"submit\" className=\"btn btn-success\" disabled={buttonHandler}>Zapisz</button>\r\n                    <button type=\"button\" onClick={closeHandler} className=\"btn btn-danger ms-2\">Anuluj</button>\r\n                  </div>\r\n\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default NewNote;","export const initialState = {\r\n  notes: [],\r\n  copyNotesSearch: [],\r\n  currentNote: {},\r\n  showEditModal: false,\r\n  showAddNote: false,\r\n  auth: window.localStorage.getItem('user-auth') ? JSON.parse(window.localStorage.getItem('user-auth')) : null\r\n}\r\n\r\nexport const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'addNote':\r\n      return { ...state, notes: [...state.notes, action.note] }\r\n    case 'editNote':\r\n      return { ...state, currentNote: action.note }\r\n    case 'updateNote':\r\n      return { ...state, notes: action.notes }\r\n    case 'remove':\r\n      return { ...state, notes: action.notes }\r\n    case 'showEditModal':\r\n      return { ...state, showEditModal: action.showEditModal }\r\n    case 'showAddNote':\r\n      return { ...state, showAddNote: action.showAddNote }\r\n    case 'login':\r\n      return { ...state, auth: action.user }\r\n    case 'logout':\r\n      return { ...state, auth: null }\r\n    case 'searchHandler':\r\n      return { ...state, copyNotesSearch: [...state.notes] }\r\n    default:\r\n      return state;\r\n  }\r\n}","export default function Footer() {\r\n  return (\r\n    <div className=\"bg-dark text-light p-3 text-center\">\r\n      <p className=\"m-0 p-0\">Copyright  <a className=\"link-success text-decoration-none\" href=\"https://michalmg.github.io/Portfolio/\">MG</a></p>\r\n    </div>\r\n  )\r\n}","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: process.env.REACT_APP_AUTH_DATABASE_NOTES,\r\n  params: {\r\n    key: process.env.REACT_APP_AUTH_KEY_NOTES\r\n  }\r\n})\r\n\r\nexport default instance;","export default function LoadingButton(props) {\r\n  return (\r\n    <>\r\n      {props.loading\r\n        ? (\r\n          <button className={`btn btn-${props.color ? props.color : \"warning\"}`} type=\"button\" disabled>\r\n            <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n          Ładowanie...\r\n          </button>\r\n        )\r\n        : <button onClick={props.onClick ? props.onClick : null} type={props.type ? props.type : \"submit\"} className={`btn btn-${props.color ? props.color : \"warning\"}`} disabled={props.disabled ? props.disabled : false}>{props.title}</button>}\r\n    </>\r\n  )\r\n}","import { useState } from \"react\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Input from '../../helpers/Input';\r\nimport { validation } from '../../helpers/validation';\r\nimport axios from '../../axios-auth';\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport LoadingButton from \"../../UI/LoadingButton/LoadingButton\";\r\nimport showNotification from \"../../helpers/showNotification\";\r\n\r\n\r\nexport default function Login() {\r\n  const [auth, setAuth] = useAuth();\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState({\r\n    email: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['email']\r\n    },\r\n    password: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['required']\r\n    },\r\n    loginInfo: ''\r\n  })\r\n\r\n  const buttonHandler = Object.values(form).filter(val => val.validation).length === 2 ? false : true;\r\n\r\n  const changeHandler = (val, type) => {\r\n    const errorMessage = validation(form[type].rules, val);\r\n    setForm({\r\n      ...form,\r\n      [type]: { ...form[type], value: val, errorMessage, validation: !errorMessage }\r\n    })\r\n  }\r\n\r\n  const loginHandler = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const loginUser = await axios.post('accounts:signInWithPassword', {\r\n        email: form.email.value,\r\n        password: form.password.value,\r\n        returnSecureToken: true\r\n      });\r\n      setAuth({\r\n        idToken: loginUser.data.idToken,\r\n        email: loginUser.data.email,\r\n        localId: loginUser.data.localId\r\n      });\r\n\r\n      const not = {\r\n        title: \"Użytkownik został zalogowany\",\r\n        message: \"Sesja trwa 60 minut\",\r\n        type: \"success\"\r\n      }\r\n      showNotification(not);\r\n\r\n      history.push('/');\r\n    }\r\n    catch (err) {\r\n      console.log(err.response.data.error.message)\r\n      if (err.response.data.error.message === 'EMAIL_NOT_FOUND') {\r\n        setForm({ ...form, loginInfo: \"Nie znaleziono maila\" })\r\n      } else if (err.response.data.error.message === 'INVALID_PASSWORD') {\r\n        setForm({ ...form, loginInfo: 'Nieprawidłowe hasło' });\r\n      } else if (err.response.data.error.message.includes('TOO_MANY_ATTEMPTS_TRY_LATER')) {\r\n        setForm({ ...form, loginInfo: 'Z powodu zbyt dużej ilości prób zalogowania zakończonych niepowodzeniem, konto zostaje chwilowo zablokowane. Spróbuj później' });\r\n      } else {\r\n        setForm({ ...form, loginInfo: \"Problemy z zalogowaniem\" });\r\n      }\r\n      setLoading(false);\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container col-12 col-md-8 col-lg-6 col-xxl-4 mt-5\">\r\n      <div className=\"card\">\r\n        <div className=\"card-header bg-dark text-light\">Zaloguj się!</div>\r\n        <div className=\"card-body\">\r\n          {form.loginInfo ? <div className=\"alert alert-danger\">{form.loginInfo}</div> : null}\r\n          <form onSubmit={loginHandler}>\r\n\r\n            <div className=\"mb-3 \">\r\n\r\n              <Input\r\n                label=\"E-mail\"\r\n                type=\"email\"\r\n                id=\"emailInput\"\r\n                validation={form.email.errorMessage}\r\n                value={form.email.value}\r\n                onChange={val => changeHandler(val, 'email')}\r\n              />\r\n\r\n            </div>\r\n\r\n            <div className=\"mb-3 \">\r\n\r\n              <Input\r\n                label=\"Hasło\"\r\n                type=\"password\"\r\n                id=\"passwordInput\"\r\n                value={form.password.value}\r\n                validation={form.password.errorMessage}\r\n                onChange={val => changeHandler(val, 'password')}\r\n              />\r\n            </div>\r\n\r\n            <LoadingButton loading={loading} disabled={buttonHandler} title=\"Zaloguj\" />\r\n          </form>\r\n        </div>\r\n        <div className=\"card-footer\">Nie posiadasz jeszcze konta ? <Link to=\"/register\">Zarejestruj się!</Link></div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import React, { useContext, useState } from 'react';\r\nimport ReducerContext from '../../../context/ReducerContext';\r\nimport { validation } from '../../../helpers/validation'\r\nimport axiosFirebase from '../../../axios-firebase';\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport Input from '../../../helpers/Input';\r\nimport Modal from '../../Modal/Modal';\r\nimport showNotification from '../../../helpers/showNotification';\r\n\r\nfunction NewNote() {\r\n\r\n  const [auth, setAuth] = useAuth();\r\n  const [form, setForm] = useState({\r\n    bgColor: {\r\n      value: \"#ffc107\",\r\n      validation: true,\r\n    },\r\n    textColor: {\r\n      value: \"#000000\",\r\n      validation: true,\r\n    },\r\n    title: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['required', { rule: 'length', length: 2 }],\r\n    },\r\n    description: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['required'],\r\n    }\r\n  })\r\n\r\n  const buttonHandler = Object.values(form).filter(value => !value.validation).length ? true : false;\r\n\r\n  const context = useContext(ReducerContext);\r\n\r\n\r\n  const addNote = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      const newNote = {\r\n        title: form.title.value,\r\n        body: form.description.value,\r\n        bgColor: form.bgColor.value,\r\n        textColor: form.textColor.value,\r\n        localId: auth.localId\r\n      }\r\n\r\n\r\n      const axNote = await axiosFirebase.post(`/${auth.localId}.json?auth=${auth.idToken}`, newNote);\r\n      const note = { ...newNote, _id: axNote.data.name };\r\n      context.dispatch({ type: 'addNote', note });\r\n      context.dispatch({ type: 'showAddNote', showAddNote: false });\r\n      context.dispatch({ type: 'searchHandler' });\r\n      const not = {\r\n        title: \"Notatka zsotała dodana.\",\r\n        message: \"Nowa notatka jest już widoczna\",\r\n        type: \"success\"\r\n      }\r\n      showNotification(not);\r\n      //express + mongoDB\r\n      // const axNote = await axios.post('/add/', newNote);\r\n      // context.dispatch({ type: 'addNote', note: axNote.data });\r\n      // context.dispatch({ type: 'showAddNote', showAddNote: false });\r\n    } catch (err) {\r\n      const not = {\r\n        title: \"Sesja wygasła!\",\r\n        message: \"Aby dodać notatkę proszę się zalogować\",\r\n        type: \"warning\"\r\n      }\r\n      showNotification(not);\r\n      return setAuth(null);\r\n    }\r\n  }\r\n\r\n\r\n  const changeHandler = (value, type) => {\r\n    const errorMessage = validation(form[type].rules, value);\r\n    setForm({ ...form, [type]: { ...form[type], value, errorMessage, validation: !errorMessage } });\r\n  }\r\n\r\n  return (\r\n    <Modal>\r\n      <div className=\"my-4\">\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"card bg-light text-dark col-sm-8 p-0\">\r\n            <div className=\"card-header\">Dodaj notatkę</div>\r\n\r\n            <div className=\"card-body\">\r\n              <form onSubmit={addNote}>\r\n\r\n                <div className=\"mb-3 \">\r\n                  <Input\r\n                    type=\"text\"\r\n                    validation={form.title.errorMessage}\r\n                    id=\"newNoteTitle\"\r\n                    value={form.title.value}\r\n                    onChange={val => changeHandler(val, 'title')}\r\n                    label=\"Tytuł\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <Input\r\n                    type=\"textarea\"\r\n                    label=\"Notatka\"\r\n                    validation={form.description.errorMessage && 'Treść notatki jest wymagana'}\r\n                    onChange={val => changeHandler(val, 'description')}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"row align-items-center\">\r\n\r\n                  <div className=\"col-6 col-lg-4\">\r\n                    <Input\r\n                      type=\"color\"\r\n                      label=\"Kolor notatki\"\r\n                      title=\"Wybierz kolor\"\r\n                      value={form.bgColor.value}\r\n                      onChange={val => changeHandler(val, 'bgColor')}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-6 col-lg-4\">\r\n                    <Input\r\n                      type=\"color\"\r\n                      label=\"Kolor tekstu\"\r\n                      title=\"Wybierz kolor\"\r\n                      value={form.textColor.value}\r\n                      onChange={val => changeHandler(val, 'textColor')}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"text-end col-12 col-lg-4 mt-2 mt-lg-0\">\r\n                    <button type=\"submit\" className=\"btn btn-success \" disabled={buttonHandler}>Dodaj</button>\r\n                    <button type=\"button\" onClick={() => context.dispatch({ type: 'showAddNote', showAddNote: false })} className=\"btn btn-danger ms-2\" >Anuluj</button>\r\n                  </div>\r\n\r\n                </div>\r\n              </form>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default NewNote;","function Note(props) {\r\n\r\n  return (\r\n    <div className=\"col-12 col-md-6 col-lg-4 mb-2\">\r\n      <div className=\"card \" style={{ backgroundColor: props.bgColor, color: props.textColor }}>\r\n        <div className=\"card-header\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-9\"> <em>{props.title}</em> </div>\r\n            <div className=\"ms-auto col-3 p-0 text-center\">\r\n              <span>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" style={{ cursor: \"pointer\" }} onClick={() => props.onEdit(props._id)} width=\"22\" height=\"22\" fill=\"currentColor\" className=\"bi bi-pencil-square\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z\" />\r\n                  <path fillRule=\"evenodd\" d=\"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z\" />\r\n                </svg>\r\n              </span>\r\n              <span className=\"ms-2\" style={{ cursor: \"pointer\" }} onClick={() => props.onRemove(props._id)}>\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"currentColor\" className=\"bi bi-trash-fill\" viewBox=\"0 0 16 16\">\r\n                  <path d=\"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z\" />\r\n                </svg>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body\">{props.body}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Note;\r\n\r\n\r\n","import Note from './Note/Note';\r\n\r\nfunction Notes(props) {\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row justify-content-center\" >\r\n        {props.notes.map(note => <Note key={note._id} onRemove={props.onRemove} onEdit={props.onEdit} {...note} />)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notes;","export default function Spinner(props) {\r\n  return props.loading\r\n    ? (<div className=\"container my-3 d-flex align-items-center justify-content-center\" >\r\n      <div className=\"spinner-border text-success text-center\" role=\"status\">\r\n      </div>\r\n      <span className=\"ml-2\"> Ładowanie...</span>\r\n    </div>)\r\n    : null\r\n}","const objectWithKey = (obj) => {\r\n  const newArray = [];\r\n\r\n  for (const key in obj) {\r\n    newArray.push({ ...obj[key], _id: key });\r\n  }\r\n\r\n  return newArray;\r\n}\r\n\r\nexport default objectWithKey;","import { useContext, useEffect, useState } from 'react';\r\nimport ReducerContext from '../../context/ReducerContext';\r\nimport NewNote from '../../components/Notes/NewNote/NewNote';\r\nimport Notes from '../../components/Notes/Notes';\r\nimport axiosFirebase from '../../axios-firebase';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport Spinner from '../../UI/Spinner/Spinner';\r\nimport objectWithKey from '../../helpers/objectWithKey';\r\nimport showNotification from '../../helpers/showNotification';\r\n\r\nexport default function NotesHome() {\r\n  const context = useContext(ReducerContext);\r\n  const [auth, setAuth] = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingNotes, setLoadingNotes] = useState('');\r\n  const [search, setSeatch] = useState('');\r\n\r\n  const removeHandler = async id => {\r\n    try {\r\n      //express + mongoDB\r\n      // await axios.delete(`/delete/${id}`);  \r\n      await axiosFirebase.delete(`/${auth.localId}/${id}.json?auth=${auth.idToken}`);\r\n      let newNotes = [...context.state.notes];\r\n      newNotes = newNotes.filter(note => note._id !== id);\r\n      context.dispatch({ type: 'remove', notes: newNotes });\r\n      context.dispatch({ type: 'searchHandler' });\r\n\r\n      const not = {\r\n        title: \"Notatka zsotała usunięta.\",\r\n        message: \"Nie ma możliwości przywrócenia usuniętej notatki\",\r\n        type: \"danger\"\r\n      }\r\n      showNotification(not);\r\n\r\n    } catch (err) {\r\n      const not = {\r\n        title: \"Sesja wygasła!\",\r\n        message: \"Aby usunąć notatkę proszę się zalogować\",\r\n        type: \"warning\"\r\n      }\r\n      showNotification(not);\r\n      return setAuth(null);\r\n    }\r\n  }\r\n\r\n  const editHandler = async id => {\r\n    let editNote = [...context.state.notes].filter(note => note._id === id);\r\n    context.dispatch({ type: 'editNote', note: editNote });\r\n    context.dispatch({ type: 'showEditModal', showEditModal: true });\r\n    context.dispatch({ type: 'searchHandler' });\r\n  }\r\n\r\n\r\n  const fetchNotes = async () => {\r\n    try {\r\n      //pobierane będą po localId w zależności od użytkownika\r\n      // const notes = await axios.get(`/${auth.localId}`);\r\n      // context.dispatch({ type: 'updateNote', notes: notes.data })\r\n\r\n      const notes = await axiosFirebase.get(`/${auth.localId}.json`);\r\n      const newNotesArray = objectWithKey(notes.data);\r\n      context.dispatch({ type: 'updateNote', notes: newNotesArray });\r\n      setLoadingNotes('');\r\n      context.dispatch({ type: 'searchHandler' });\r\n    } catch (err) {\r\n      setLoadingNotes('Wystąpił problem z serwerem. Proszę odświeżyć stronę, jeśli rezultat będzie taki sam to bardzo proszę o pilny kontakt' + err)\r\n      console.log(err.data);\r\n    }\r\n    setLoading(false);\r\n\r\n  }\r\n\r\n  const searchHandler = async (e) => {\r\n    try {\r\n      setSeatch(e.target.value);\r\n      let searchNotes = [...context.state.copyNotesSearch];\r\n      searchNotes = searchNotes.filter(notes => notes.title.toLowerCase().includes(e.target.value.toLowerCase()));\r\n      context.dispatch({ type: 'updateNote', notes: searchNotes });\r\n    } catch (err) {\r\n      console.log(err.response.data)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    if (auth) {\r\n      setLoading(true)\r\n      fetchNotes();\r\n    }\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <div>\r\n      <>\r\n        <div className=\" my-4 container d-flex justify-content-center align-items-center\">\r\n          <button className=\"btn btn-outline-primary\"\r\n            onClick={() => context.dispatch({ type: 'showAddNote', showAddNote: true })}>\r\n            Dodaj!\r\n          </button>\r\n          <div className=\"ms-2\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"wyszukaj...\" value={search} onChange={searchHandler} />\r\n          </div>\r\n\r\n        </div>\r\n        {loadingNotes ? <div className=\"container alert alert-danger\">{loadingNotes}</div> : null}\r\n        {loading\r\n          ? <Spinner loading={loading} />\r\n          : (< Notes\r\n            onRemove={removeHandler}\r\n            onEdit={editHandler}\r\n            notes={context.state.notes} />)}\r\n      </>\r\n      {context.state.showAddNote ? <NewNote /> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\n","import './Layout.css';\r\n\r\nexport default function Layout({ header, content, footer, modal }) {\r\n  return (\r\n    <div className=\"d-flex flex-column wrapperLayout\">\r\n      <div>{header}</div>\r\n      <div style={{ flexGrow: '2' }}>{content}</div>\r\n      <div>{modal}</div>\r\n      <div className=\"pt-3\">{footer}</div>\r\n    </div >\r\n  )\r\n}","import axiosAuth from \"../../axios-auth\";\r\nimport axios from '../../axios-firebase';\r\nimport { useState } from \"react\"\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Input from '../../helpers/Input';\r\nimport { validation } from '../../helpers/validation';\r\nimport useAuth from \"../../hooks/useAuth\";\r\nimport LoadingButton from '../../UI/LoadingButton/LoadingButton';\r\nimport showNotification from \"../../helpers/showNotification\";\r\n\r\n\r\nexport default function Login() {\r\n  const history = useHistory();\r\n  const [auth, setAuth] = useAuth();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    email: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['email']\r\n    },\r\n    password: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['password']\r\n    },\r\n    checkbox: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['checkbox']\r\n    },\r\n    validationMessage: ''\r\n  })\r\n\r\n  const buttonHandler = Object.values(form).filter(val => val.validation).length === 3 ? false : true;\r\n\r\n  const changeHandler = (val, type) => {\r\n    const errorMessage = validation(form[type].rules, val);\r\n    setForm({\r\n      ...form,\r\n      [type]: { ...form[type], value: val, errorMessage, validation: !errorMessage },\r\n      validationMessage: ''\r\n    })\r\n  }\r\n\r\n  const loginHandler = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const user = await axiosAuth.post('accounts:signUp', {\r\n        email: form.email.value,\r\n        password: form.password.value,\r\n        returnSecureToken: true\r\n      });\r\n\r\n      await axios.post(`/${user.data.localId}.json?auth=${user.data.idToken}`, {\r\n        title: 'Witaj w świecie notatek',\r\n        body: 'W łatwy i szybki sposób możesz tworzyć, usuwać oraz edytować notatki',\r\n        bgColor: \"#ffc107\",\r\n        textColor: \"#000000\",\r\n        localId: user.data.localId\r\n      })\r\n\r\n      setAuth({\r\n        idToken: user.data.idToken,\r\n        email: user.data.email,\r\n        localId: user.data.localId\r\n      });\r\n\r\n      const not = {\r\n        title: \"Użytkownik został zarejestrowany\",\r\n        message: \"Zalogowano na konto\",\r\n        type: \"success\"\r\n      }\r\n      showNotification(not);\r\n\r\n      history.push('/');\r\n    } catch (err) {\r\n      if (err.response.data.error.message === 'EMAIL_EXISTS') {\r\n        setForm({ ...form, validationMessage: 'Taki adres email istnieje już w bazie' })\r\n      } else {\r\n        setForm({ ...form, validationMessage: 'Wystąpił problem z rejestracją! Spróbuj jeszcze raz' })\r\n      }\r\n      setLoading(false);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container col-12 col-md-8 col-lg-6 col-xxl-4 mt-5\">\r\n\r\n      <div className=\"card\">\r\n        <div className=\"card-header bg-dark text-light\">Zarejestruj się!</div>\r\n        <div className=\"card-body\">\r\n          {form.validationMessage && <div className=\"alert alert-danger\">{form.validationMessage}</div>}\r\n          <form onSubmit={loginHandler}>\r\n\r\n            <div className=\"mb-3 \">\r\n\r\n              <Input\r\n                label=\"E-mail\"\r\n                type=\"email\"\r\n                id=\"emailInput\"\r\n                validation={form.email.errorMessage}\r\n                value={form.email.value}\r\n                onChange={val => changeHandler(val, 'email')}\r\n              />\r\n\r\n            </div>\r\n\r\n            <div className=\"mb-3 \">\r\n\r\n              <Input\r\n                label=\"Hasło\"\r\n                placeholder=\"wpisz hasło\"\r\n                type=\"password\"\r\n                id=\"passwordInput\"\r\n                value={form.password.value}\r\n                validation={form.password.errorMessage}\r\n                onChange={val => changeHandler(val, 'password')}\r\n              />\r\n            </div>\r\n\r\n\r\n            <div className=\"mb-3 \">\r\n              <Input\r\n                label=\"Akceptuję regulamin ...\"\r\n                type=\"checkbox\"\r\n                id=\"checkboxInput\"\r\n\r\n                //\r\n                checked={form.checkbox.value}\r\n                validation={form.checkbox.errorMessage}\r\n                onChange={val => changeHandler(val, 'checkbox')}\r\n              //\r\n              />\r\n\r\n            </div>\r\n            <LoadingButton loading={loading} disabled={buttonHandler} title='Zarejestruj' />\r\n\r\n          </form>\r\n        </div>\r\n        <div className=\"card-footer\">Posiadasz już konto ? <Link to=\"/login\">Zaloguj się!</Link></div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import { Redirect } from \"react-router\";\r\nimport { Route } from 'react-router-dom'\r\nimport useAuth from \"../../hooks/useAuth\"\r\n\r\n\r\nexport default function RouteAuth(props) {\r\n  const [auth] = useAuth();\r\n\r\n  return auth ? <Route {...props} /> : <Redirect to=\"/login\" />\r\n\r\n}","import { Redirect } from \"react-router\";\r\nimport { Route } from 'react-router-dom'\r\nimport useAuth from \"../../hooks/useAuth\"\r\n\r\n\r\nexport default function RouteAuthTrue(props) {\r\n  const [auth] = useAuth();\r\n\r\n  return auth ? <Redirect to='/' /> : <Route {...props} />\r\n\r\n}","import { useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from 'react-router-dom'\r\nimport Input from '../../helpers/Input';\r\nimport LoadingButton from '../../UI/LoadingButton/LoadingButton';\r\nimport { validation } from '../../helpers/validation';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport axiosAuth from '../../axios-auth';\r\nimport axios from '../../axios-firebase';\r\nimport showNotification from '../../helpers/showNotification';\r\nimport Modal from '../../components/Modal/Modal';\r\n\r\nexport default function ProfileDetails() {\r\n\r\n  const [auth, setAuth] = useAuth();\r\n  const [confirmDelete, setConfirmDelete] = useState(false);\r\n  const history = useHistory();\r\n  const [loading, setLoading] = useState(false);\r\n  const [form, setForm] = useState({\r\n    email: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: false,\r\n      rules: ['email']\r\n    },\r\n    password: {\r\n      value: '',\r\n      errorMessage: '',\r\n      validation: true,\r\n      rules: ['changePassword']\r\n    },\r\n    loginInfo: ''\r\n  })\r\n\r\n\r\n  const buttonHandler = Object.values(form).filter(val => val.validation).length === 2 ? false : true;\r\n\r\n  const changeHandler = (val, type) => {\r\n    const errorMessage = validation(form[type].rules, val);\r\n    setForm({\r\n      ...form,\r\n      [type]: { ...form[type], value: val, errorMessage, validation: !errorMessage }\r\n    })\r\n  }\r\n\r\n  const loginHandler = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    const updateUser = {\r\n      idToken: auth.idToken,\r\n      email: form.email.value,\r\n      returnSecureToken: true\r\n    }\r\n\r\n    if (form.password.value) {\r\n      updateUser.password = form.password.value;\r\n      console.log(form.password.value)\r\n    }\r\n\r\n    console.log(updateUser);\r\n\r\n    try {\r\n      const loginUser = await axiosAuth.post('/accounts:update/', updateUser);\r\n      console.log(loginUser.data);\r\n      setAuth({\r\n        idToken: loginUser.data.idToken,\r\n        email: loginUser.data.email,\r\n        localId: loginUser.data.localId\r\n      });\r\n\r\n\r\n      const not = {\r\n        title: \"Aktualizacja danych.\",\r\n        message: \"Dane użytkownika zostały zaktualizowane\",\r\n        type: \"success\"\r\n      }\r\n      showNotification(not);\r\n\r\n\r\n      history.push('/');\r\n\r\n    }\r\n    catch (err) {\r\n      console.log(err.response.data.error.message);\r\n      if (err.response.data.error.message === 'EMAIL_EXISTS') {\r\n        setForm({ ...form, loginInfo: \"Taki mail już istnieje\" })\r\n      } else if (err.response.data.error.message === 'CREDENTIAL_TOO_OLD_LOGIN_AGAIN' || err.response.data.error.message === 'INVALID_ID_TOKEN' || err.response.data.error.message === 'TOKEN_EXPIRED') {\r\n        setForm({ ...form, loginInfo: 'Wystąpił błąd z kontem. Proszę wylogować i zalogować się ponownie' });\r\n      } else {\r\n        setForm({ ...form, loginInfo: \"Problemy z aktualizacją. Proszę o kontakt z administratorem\" });\r\n      } setLoading(false);\r\n    }\r\n  }\r\n\r\n  const deleteUser = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await axios.delete(`/${auth.localId}.json?auth=${auth.idToken}`);\r\n      await axiosAuth.post('/accounts:delete', { idToken: auth.idToken });\r\n      const not = {\r\n        title: \"Konto zostało usunięte\",\r\n        message: \" \",\r\n        type: \"warning\"\r\n      }\r\n      showNotification(not);\r\n      setLoading(false);\r\n      setAuth(null);\r\n      history.push('/');\r\n    } catch (err) {\r\n      const not = {\r\n        title: \"Wystąpiły problemy z serwerem\",\r\n        message: \"Bardzo proszę zalogować się i spróbować ponownie.\",\r\n        type: \"warning\"\r\n      }\r\n      showNotification(not);\r\n      setAuth(null);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container text-center col-12 col-md-8 col-lg-6 col-xxl-4 my-4 \">\r\n\r\n      <h3>Twój profil</h3>\r\n      <p className=\"text-muted mb-0\">Możesz tutaj zaktualizować swoje dane logowania oraz usunąć konto.</p>\r\n      <p className=\"text-muted mb-0\">Jeśli chcesz zmienić maila to wpisz nowego maila i kliknij aktualizuj, </p>\r\n      <p className=\"text-muted\">przy zmianie hasła konieczne jest podanie aktualnego maila</p>\r\n\r\n      {form.loginInfo ? <div className=\"alert alert-danger\">{form.loginInfo}</div> : null}\r\n      <form onSubmit={loginHandler} className=\"text-start\">\r\n\r\n        <div className=\"mb-3 \">\r\n\r\n          <Input\r\n            label=\"E-mail\"\r\n            type=\"email\"\r\n            id=\"emailInput\"\r\n            placeholder={auth.email}\r\n            validation={form.email.errorMessage}\r\n            value={form.email.value}\r\n            onChange={val => changeHandler(val, 'email')}\r\n          />\r\n\r\n        </div>\r\n\r\n        <div className=\"mb-3 \">\r\n\r\n          <Input\r\n            label=\"Hasło\"\r\n            type=\"password\"\r\n            id=\"passwordInput\"\r\n            value={form.password.value}\r\n            validation={form.password.errorMessage}\r\n            onChange={val => changeHandler(val, 'password')}\r\n          />\r\n        </div>\r\n\r\n        <LoadingButton color=\"success\" loading={loading} disabled={buttonHandler} title=\"Aktualizuj\" />\r\n        <Link to=\"/\" className=\"btn btn-outline-secondary ms-2\">Wróć do notatek</Link>\r\n      </form>\r\n\r\n      <div className=\"card-footer mt-4 text-muted d-flex flex-column align-items-center justify-content-center\">\r\n        <span>W każdej chwili możesz też usunąć konto.</span>\r\n        <button onClick={() => setConfirmDelete(true)} className=\"btn btn-link link-danger ms-1 p-0 shadow-none\">Kliknij i usuń konto</button>\r\n\r\n        {confirmDelete\r\n          ? (<Modal>\r\n            <div className=\"d-flex justify-content-center align-items-center\">\r\n              <div className=\"modal-dialog\">\r\n                <div className=\"modal-content\">\r\n                  <div className=\"modal-header\">\r\n                    <h5 className=\"modal-title\">Usuwanie konta</h5>\r\n                    <button type=\"button\" className=\"btn-close\" onClick={() => setConfirmDelete(false)}></button>\r\n                  </div>\r\n\r\n                  <div className=\"modal-body\">\r\n                    <p className=\"card-text mb-0\">Czy jesteś pewien, że chcesz usunąć konto?</p>\r\n                    <p className=\"card-text\">Operacja jest nieodwracalna.</p>\r\n                  </div>\r\n                  <div className=\"modal-footer\">\r\n                    <LoadingButton type=\"button\" color=\"danger\" title=\"Potwierdzam\" onClick={deleteUser} loading={loading} />\r\n                    <button onClick={() => setConfirmDelete(false)} className=\"btn btn-secondary ms-2\">Rezygnuję</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Modal>)\r\n          : null}\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}","import Header from './components/Header/Header';\nimport EditNote from './components/Notes/EditNote/EditNote';\nimport ReducerContext from './context/ReducerContext';\nimport React, { useReducer } from 'react';\nimport { reducer, initialState } from './reducer';\nimport Footer from './components/Footer/Footer';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\nimport Login from './pages/Login/Login';\nimport NotesHome from './pages/NotesHome/NotesHome';\nimport Layout from './Layout/Layout';\nimport Registration from './pages/Registration/Registration';\nimport AuthContext from './context/AuthContext';\nimport RouteAuth from './components/Auth/RouteAuth';\nimport RouteAuthTrue from './components/Auth/RouteAuthTrue';\nimport ReactNotification from 'react-notifications-component'\nimport ProfileDetails from './pages/ProfileDetails/ProfileDetails';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport 'react-notifications-component/dist/theme.css'\n\n\n\n\nfunction App() {\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const header = <Header />;\n  const footer = <Footer />;\n  const modal = (state.showEditModal ? <EditNote /> : null);\n  const content = (\n    <Switch>\n      <RouteAuthTrue path=\"/register\" component={Registration} />\n      <RouteAuthTrue path=\"/login\" component={Login} />\n      <RouteAuth path=\"/profile\" component={ProfileDetails} />\n      <RouteAuth exact path=\"/\" component={NotesHome} />\n      <Route component={() => <div className=\"container alert alert-danger mt-5\"><h1 >Błąd 404- nie znaleziono strony</h1></div>} />\n    </Switch>\n  )\n\n  // console.log(state.auth.localId);\n\n  return (\n    <ReducerContext.Provider value={{\n      state: state,\n      dispatch: dispatch\n    }}>\n      <AuthContext.Provider value={{\n        auth: state.auth,\n        login: (user) => dispatch({ type: 'login', user }),\n        logout: () => dispatch({ type: 'logout' })\n      }}>\n\n        <Router>\n          <ReactNotification />\n          <Layout\n            header={header}\n            content={content}\n            footer={footer}\n            modal={modal}\n          />\n        </Router>\n\n      </AuthContext.Provider>\n    </ReducerContext.Provider>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}